# Crypto Wallets - Overview


## Types of Crypto Wallets: Web, Mobile, Desktop, Hardware, Paper Wallets


# Table of Content
- Types of Wallets
  - **Mobile** (e.g. Jaxx)
  - **Desktop** (e.g. Exodus)
  - **Web-based** Wallets
  - **Hardware-Based**Wallets
  - **Paper** Wallets
- Wallet Architectures:**Full node**,**light**,**HD wallets**
![](/assets/cryptocurrency-wallets-table-of-content-01.png)
![](/assets/cryptocurrency-wallets-table-of-content-02.png)
![](/assets/cryptocurrency-wallets-table-of-content-03.png)
![](/assets/cryptocurrency-wallets-table-of-content-04.png)
![](/assets/cryptocurrency-wallets-table-of-content-05.png)
![](/assets/cryptocurrency-wallets-table-of-content-06.png)


# Crypto Wallets

```cs
Mobile, Desktop, Hardware, Paper Wallets
```

![](/assets/cryptocurrency-wallets-crypto-wallets-01.png)


# What is a Cryptocurrency Wallet?
- **Crypto wallet** == software that stores **private** and **public keys**
  - Enables users to **send** and **receive** crypto currency / tokens
  - **Communicates** with the blockchain network through API
  - **Sign transactions**and send them to the blockchain network
- If you want to operate with Bitcoin / Ethereum / other cryptocurrency, you will need a **crypto wallet**
![](/assets/cryptocurrency-wallets-what-is-a-cryptocurrency-wallet-01.png)


# Types of Wallets
- **Mobile** wallet (mobile app)
- **Desktop** wallet (desktop app)
- **Web-based**wallet (web site)
- **Hardware-based** wallet(USB stick)
- **Paper** wallet (private keyprinted on a sheet of paper)
![](/assets/cryptocurrency-wallets-types-of-wallets-01.png)
![](/assets/cryptocurrency-wallets-types-of-wallets-02.png)


# Mobile Wallets
- Mobile wallet app
  - Keeps **private keys** and can **sign** / **send** **transactions**, view balances
- **Convenience** + **risk** to access your crypto-assets everywhere
- **Wallets** do not store cryptocurrency
  - They store your **private keys**
- Examples: **Jaxx**, **Coinomi**, **Bread App**
![](/assets/cryptocurrency-wallets-mobile-wallets-01.png)
![](/assets/cryptocurrency-wallets-mobile-wallets-02.png)


# Desktop Wallets
- A **desktop wallet**runs in your computer (Windows / Linux / Mac OS)
  - Might hold a full blockchain node or connect to a server-side API
- Full control over your **private keys**
- Remember: desktop wallet is only as secure as **your computer**!
- Examples: **Exodus**, **Electrum**, **Jaxx**
![](/assets/cryptocurrency-wallets-desktop-wallets-01.png)
![](/assets/cryptocurrency-wallets-desktop-wallets-02.png)


# Web-Based Wallets and Exchanges
- No app download and install
  - Access the wallet from the **Web**
- Security is controversial
  - Your **private key**stays at the server!
  - Typically uses a **two-factor authentication** (e.g. pass + SMS)
- Examples: Blockchain.info wallet, Coinbase, BitGo 
![](/assets/cryptocurrency-wallets-web-based-wallets-and-exchanges-01.png)
![](/assets/cryptocurrency-wallets-web-based-wallets-and-exchanges-02.png)


# Cryptocurrency / Digital Asset Exchanges
- Cryptocurrency **exchanges** act as Web / mobile wallets
  - At the exchange **you don't control your private keys**
  - You control your account at the exchange Web site / mobile app
- If the exchange or your account is hacked &rarr; your funds are lost
- Exchanges can sign and **send transactions**on your behalf
  - You can **exchange** one cryptocurrency for another
    - E.g. **sell** Bitcoins and **buy** Ethers
  - You can deposit and withdraw **fiat money** at your account


# Client-Side Web Wallets
- **Client-side Web wallets**hold the private keys client-side
  - More secure than exchanges &rarr; private keys never go to the server
- **MyEtherWallet** – https://myetherwallet.com  
  - Extremely popular **Ethereum** client-side Web wallet app
  - Supports many wallet formats: mnemonic phrase, private key, JSON keystore, MetaMask, hardware wallet (Ledger, TREZOR)
- **Guarda** – https://guarda.co/app 
  - Multi-currency client-side Web wallet app (Bitcoin, Ethereum, Ripple, Litecoin, Dash, Zcash, Monero, Qtum, ETH tokens, …)
  - No hardware wallet support


# Hardware-Based Wallets
- Hardware wallet
  - **Hardware device** (**USB stick**) builtto hold cryptocurrency private keys
- Strong **security**
  - Your **private keys**never leave the hardware device
  - Each **transaction** is **signed** by a button click on the device
  - Hacked computer does not compromise the wallet!
- Examples: Ledger, TREZOR, **KeepKey**, **Opendime**, **ColdCard**, **BitBox**
![](/assets/cryptocurrency-wallets-hardware-based-wallets-01.png)
![](/assets/cryptocurrency-wallets-hardware-based-wallets-02.png)


# Paper Wallets
- **Paper wallets** hold **p ublic** + **private** keys printed on a **paper**
  - May contain a **QR code**to allow scanning the keys
- Security
  - Can be **copied** by a camera
  - May hold the keys **encrypted**
  - Paper and ink are **fragile**
  - Keys are not stored **digitally**
![](/assets/cryptocurrency-wallets-paper-wallets-01.png)


# Brain Wallets
- Brain wallets **derive a private key** from a **passphrase**
  - Just think out a long passphrase and remember it
  - E.g. using **Scrypt** or **Argon2**
- Considered **insecure**
  - "**Lost passphrase**" and"**too easy passphrase**" vulnerabilities
![](/assets/cryptocurrency-wallets-brain-wallets-01.png)


# Generating Single Wallet and Paper Wallet
![](/assets/cryptocurrency-wallets-generating-single-wallet-and-paper-wallet-01.png)


# Generating a Single Wallet
![](/assets/cryptocurrency-wallets-generating-a-single-wallet-01.png)


# Generating a Paper Wallet
![](/assets/cryptocurrency-wallets-generating-a-paper-wallet-01.png)


# Crypto Wallet Software

```cs
Examples
```

![](/assets/cryptocurrency-wallets-crypto-wallet-software-01.png)
![](/assets/cryptocurrency-wallets-crypto-wallet-software-02.png)
![](/assets/cryptocurrency-wallets-crypto-wallet-software-03.png)
![](/assets/cryptocurrency-wallets-crypto-wallet-software-04.png)
![](/assets/cryptocurrency-wallets-crypto-wallet-software-05.png)


# Mobile Wallet Example: Jaxx
- **Jaxx** is a simple tool to hold and trade **blockchain-based assets**
  - **Multi-coin** support: Bitcoin, Ethereum, Litecoin, Dash, Zcash, …
  - Integrated with **ShapeShift** (a powerful crypto exchange)
  - **Ownership** of your private keys
![](/assets/cryptocurrency-wallets-mobile-wallet-example-jaxx-01.png)
![](/assets/cryptocurrency-wallets-mobile-wallet-example-jaxx-02.png)


# Desktop Wallet Example: Exodus
![](/assets/cryptocurrency-wallets-desktop-wallet-example-exodus-01.png)
![](/assets/cryptocurrency-wallets-desktop-wallet-example-exodus-02.png)


# Online Wallet Example: MyEtherWallet
- Online software **wallets** are similar to those at an **exchange**
  - Vulnerable if the exchange site is compromised in any way 
  - Good option for beginners
- **MyEtherWallet** is a **client-side**JavaScript-based Ethereum wallet
  - Secure: your keys are never sentto the server-side
  - Good for Ethereum developers
![](/assets/cryptocurrency-wallets-online-wallet-example-myetherwallet-01.png)


# Online Wallet Example: Coinbase
- **Server-side online wallets**
  - Hides your **private keys**
    - You can't access them
  - You can send transactionsfrom their Web app
- Example of online wallet:
  - coinbase.com
  - Online server-side wallet
  - Crypto-exchange service
![](/assets/cryptocurrency-wallets-online-wallet-example-coinbase-01.png)


# Hardware Wallet Example: Ledger Nano S
- **Ledger Nano S** == crypto **hardware-based wallet**
  - Private keys never exposed (transactions signed inside the wallet)
  - Secured inside an isolated environment **locked** by a PIN
- Based on **BIP-39** and **BIP-44**
  - Hierarchical deterministicwallet (**HD wallet**)
  - All keys inside are dependenton the initial **24 seed words**
![](/assets/cryptocurrency-wallets-hardware-wallet-example-ledger-nano-s-01.png)


# Multi-Signature Wallets
- Require **more than one key** to authorize a transaction
  - Used to**divide responsibility**for possession of funds
- Multisig **M-of-N** model
  - **M**– number of required signatures to authorize a transaction
  - **N**– number of all participants
  -  E.g. 2-of-2, 2-of-3, 3-of-4, …
![](/assets/cryptocurrency-wallets-multi-signature-wallets-01.png)


# Wallet Architectures
- Light vs. Full Nodes, Simple vs. HD Wallets
![](/assets/cryptocurrency-wallets-wallet-architectures-01.png)
![](/assets/cryptocurrency-wallets-wallet-architectures-02.png)
![](/assets/cryptocurrency-wallets-wallet-architectures-03.png)
![](/assets/cryptocurrency-wallets-wallet-architectures-04.png)
![](/assets/cryptocurrency-wallets-wallet-architectures-05.png)
![](/assets/cryptocurrency-wallets-wallet-architectures-06.png)


# Full Node Wallets vs. Light Wallets
- Originally, in the Bitcoin ecosystem, the **blockchain node** and the **crypto wallet**was the same software (full node)
- **Full node wallet**== the wallet software synchronizes the **entire blockchain**on your computer
- **Light wallet**== lightweight client wallet software connected to **server-side back-end**
  - The wallet app talks to the back-end server API
  - The server runs a node to synchronize the chain
![](/assets/cryptocurrency-wallets-full-node-wallets-vs-light-wallets-01.png)
![](/assets/cryptocurrency-wallets-full-node-wallets-vs-light-wallets-02.png)
![](/assets/cryptocurrency-wallets-full-node-wallets-vs-light-wallets-03.png)
![](/assets/cryptocurrency-wallets-full-node-wallets-vs-light-wallets-04.png)
![](/assets/cryptocurrency-wallets-full-node-wallets-vs-light-wallets-05.png)


# Full Node Wallets
- **Full Payment Verification** (**FPV**) wallets
  - Keep a complete copy of the entire blockchain &rarr; **more secure**
  - Validates transactions by scanning the **entire blockchain**
  - Very **resource-intensive**(network, HDD, RAM, CPU)
  - **Slow initial start**(~ several days)
  - Cannot run on mobile phones
- Examples: **Bitcoin Core**(bitcoind),**Ethereum Mist**(geth)

```cs
Full Node (FPV) Wallet



```

![](/assets/cryptocurrency-wallets-full-node-wallets-01.png)
![](/assets/cryptocurrency-wallets-full-node-wallets-02.png)


# Lightweight Wallets
- **S**imple **P**ayment **V**erification (**SPV**) wallets in Bitcoin
  - Don’t download the entire blockchain, just the **block headers**
  - Connects to full nodes **on demand**to get Merkle branches
- **Light wallets**with server-side backend
  - Do not download the blockchain data, use server-side APIs instead
  - **Less secure** – hackers can hack the servers, providing the APIs
  - Hacked server &rarr; faked transaction history / balances / censorship
- Examples: **Guarda**, **MyEtherWallet**, **Jaxx**                  SPV: **Electrum**


# Wallet Backend APIs – Examples
- Etherscan (Ethereum APIs) – https://etherscan.io/apis
  - https://api.etherscan.io/api?module=block&action=getblockreward&blockno=2165403
- Qbit Ninja (Bitcoin APIs) – https://qbitninja.docs.apiary.io
  - http://api.qbit.ninja/transactions/38d4cfeb57d6685753b7a3b3534c3cb576c34ca7344cd4582f9613ebf0c2b02a
- Ripple API – https://data.ripple.com  
  - https://data.ripple.com/v2/transactions/9D591B18EDDD34F0B6CF4223A2940AEA2C3CC778925BABF289E0011CD8FA056E


# Single Key Storage vs. HD Wallets
- Simple wallets store a **single private key**or a **set of private keys**
  - Backups / restore requires to copy the encrypted **keystore file**
- Most wallets use hierarchical key derivation (**HD wallets**)
  - Keep a "**mnemonic phrase**" and derive keys and addresses from it
  - Backup / restore is possible through the **mnemonic phrase**
- Some wallets combine the above approaches (e.g. **MetaMask**)
  - Keep securely a set of private keys + mnemonic phrase
  - More flexibility for the end user, still hard to backup / restore


# Mnemonic Seed in Crypto Wallets
- **HD wallets**keep a securely generated **random seed**
  - And use a **hierarchical deterministic (HD) key-derivation**(see BIP-32)
- The seed (**root** **key**) can be represented as 12 or 24 words, e.g.
  - Each word comes from a **wordlist of 2048 words** &rarr; 1 word == **11 bits**
  - **24** words &rarr; **256-bit entropy** &rarr; **512-bits seed** (see BIP-39)
- All **private keys**+ addresses are later **derived** from the seed
  - See https://iancoleman.io/bip39 to understand the idea in practice

```cs
glad cup dance version wood apart jazz hard aunt ethics kick game
```



# How Wallets Keep the Private Keys?
- Wallet **keys** are typically stored on the **HDD** (**strongly-encrypted**)
  - Or sent at the **server-side** (encrypted)
  - Or stored in a **hardware device**(e.g. **HSM**(**Hardware Security module**))
  - Or stored in the user's **Web browser**(in the local storage)
- Wallet encryption typically uses:
  - **Scrypt** / **Argon2** password to key derivation
  - **AES** / **Twofish** symmetric key encryption
  - **Memory locking**to avoid keys being written in the OS swap files


# Restoring a Lost Wallet Password?
- By design wallets **cannot be restored**if the **password is lost**!
  - No "reset password" feature in most wallet software
  - Cracking a long password is almost infeasible
- **HD wallets**can be restored by the "**mnemonic phrase**"
  - It just reinitializes the wallet with the seed previously encoded in the mnemonic phrase
  - The mnemonic phrase is usually **unprotected**, keep is safely!
- **Changing the wallet password**is only possible if the old password is provided first


# Exercises
- Playing with Jaxx and Electrum
![](/assets/cryptocurrency-wallets-exercises-01.png)
![](/assets/cryptocurrency-wallets-exercises-02.png)
![](/assets/cryptocurrency-wallets-exercises-03.png)


# Summary
- **Mobile** wallets – Jaxx as example
- **Desktop** wallets – Exodus as example
- **Web-based** wallets – MyEtherWallet
- **Hardware-based** wallets – Lerger, TREZOR
- **Paper**wallets & mnemonic wallets
- Multi-signature wallets (**multisig**)
- **Full node**wallets vs. **light** wallets
- Simple **keystores** vs. **HD** wallets
![](/assets/cryptocurrency-wallets-summary-01.png)
![](/assets/cryptocurrency-wallets-summary-02.png)
![](/assets/cryptocurrency-wallets-summary-03.png)


